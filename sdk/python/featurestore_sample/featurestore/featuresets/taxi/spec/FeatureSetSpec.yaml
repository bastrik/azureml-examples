$schema: http://azureml/sdk-2-0/FeatureSetSpec.json

# Registered mltable assets can also be referenced: `source: "mymltable:1"`
source:
  type: parquet
  path: abfss://nyc-taxi-aggregated@featurestoreprp.dfs.core.windows.net/yellow_tripdata_2021-01.parquet
  timestamp_column:
    name: tpep_dropoff_datetime
    format: "%Y-%m-%d %H:%M:%S"
  source_delay:
    days: 1
    hours: 0
    minutes: 0
feature_transformation: # This transformation logic will be applied on the source to generate features
  transformation_expressions:
    - feature_name: "f_fare_amount_sum_3d"
      source_column: "fare_amount"
      aggregation: "sum"
      window:
        days: 3
    - feature_name: "f_fare_amount_avg_3d"
      source_column: "fare_amount"
      aggregation: "avg"
      window:
        hours: 6
features: # schema and properties of features generated by the feature_transformation_code
  - name: f_fare_amount_sum_3d
    type: float
    tags: {"feature-type":"taxi_data"}
    description: "location rolling 3 day fare amount sum"
  - name: f_fare_amount_avg_3d
    type: float
    tags: {"feature-type":"taxi_data"}
    description: "location rolling 3 day fare amount sum"
index_columns:
  - name: DOLocationID
    type: string
temporal_join_lookback: # [Optional] Tolerance of the temporal join when the event data is joined with featureset
  days: 2
  hours: 0
  minutes: 0
